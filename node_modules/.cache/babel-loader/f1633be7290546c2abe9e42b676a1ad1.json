{"remainingRequest":"/Users/kangcheng/Documents/dev/marijuana-legalization/node_modules/babel-loader/lib/index.js!/Users/kangcheng/Documents/dev/marijuana-legalization/node_modules/eslint-loader/index.js??ref--13-0!/Users/kangcheng/Documents/dev/marijuana-legalization/src/loadData.js","dependencies":[{"path":"/Users/kangcheng/Documents/dev/marijuana-legalization/src/loadData.js","mtime":1542919252667},{"path":"/Users/kangcheng/Documents/dev/marijuana-legalization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kangcheng/Documents/dev/marijuana-legalization/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kangcheng/Documents/dev/marijuana-legalization/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport Papa from 'papaparse';\nvar list = [{\n  hasFlag: false,\n  type: 0\n}, {\n  type: 1,\n  key: 'V/Acc/HU'\n}, {\n  type: 1,\n  key: 'V/Acc/LU'\n}, {\n  type: 1,\n  key: 'V/Inacc/HU'\n}, {\n  type: 1,\n  key: 'V/Inacc/LU'\n}, {\n  type: 2,\n  key: 'IV/Acc/HU'\n}, {\n  type: 2,\n  key: 'IV/Acc/LU'\n}, {\n  type: 2,\n  key: 'IV/Inacc/HU'\n}, {\n  type: 2,\n  key: 'IV/Inacc/LU'\n}];\n\nvar getQueryVariable = function getQueryVariable(variable) {\n  var query = window.location.hash.substring(window.location.hash.indexOf('?') + 1);\n  var vars = query.split('&');\n\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split('=');\n\n    if (decodeURIComponent(pair[0]) == variable) {\n      return decodeURIComponent(pair[1]);\n    }\n  }\n\n  return '';\n};\n\nvar comments = [];\nvar replies = [];\nexport default (function () {\n  var which = parseInt(atob(getQueryVariable('id')), 10);\n  var c = list[which];\n  fetch('static/comments.csv').then(function (response) {\n    return response.text();\n  }).then(function (text) {\n    Papa.parse(text, {\n      header: true\n    }).data.forEach(function (item) {\n      var comment_text = item.comment_text,\n          down_count = item.down_count,\n          up_count = item.up_count,\n          message_id = item.message_id,\n          nickname = item.nickname,\n          user_id = item.user_id;\n      comments.push({\n        content: comment_text,\n        like: up_count,\n        dislike: down_count,\n        messageId: message_id,\n        nickname: nickname,\n        uid: user_id,\n        type: c.type,\n        flagInfo: c.type !== 0 ? item[c.key] : undefined\n      });\n    });\n  });\n  fetch('static/replies.csv').then(function (response) {\n    return response.text();\n  }).then(function (text) {\n    Papa.parse(text, {\n      header: true\n    }).data.forEach(function (_ref) {\n      var reply_text = _ref.reply_text,\n          message_id_default = _ref.message_id_default,\n          reply_id = _ref.reply_id,\n          reply_nickname = _ref.reply_nickname,\n          reply_down_count = _ref.reply_down_count,\n          reply_up_count = _ref.reply_up_count,\n          reply_uid = _ref.reply_uid;\n      var reply = {\n        content: reply_text,\n        like: reply_up_count,\n        dislike: reply_down_count,\n        messageId: reply_id,\n        nickname: reply_nickname,\n        uid: reply_uid,\n        parentId: message_id_default\n      };\n\n      if (replies[message_id_default]) {\n        replies[message_id_default].push(reply);\n      } else {\n        replies[message_id_default] = [reply];\n      }\n    });\n  });\n});\nexport var getComments = function getComments() {\n  return comments;\n};\nexport var getReplies = function getReplies(commentId) {\n  return replies[commentId] || [];\n};",{"version":3,"sources":["/Users/kangcheng/Documents/dev/marijuana-legalization/src/loadData.js"],"names":["Papa","list","hasFlag","type","key","getQueryVariable","variable","query","window","location","hash","substring","indexOf","vars","split","i","length","pair","decodeURIComponent","comments","replies","which","parseInt","atob","c","fetch","then","response","text","parse","header","data","forEach","item","comment_text","down_count","up_count","message_id","nickname","user_id","push","content","like","dislike","messageId","uid","flagInfo","undefined","reply_text","message_id_default","reply_id","reply_nickname","reply_down_count","reply_up_count","reply_uid","reply","parentId","getComments","getReplies","commentId"],"mappings":"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","sourcesContent":["import Papa from 'papaparse'\n\nconst list = [\n  {\n    hasFlag: false,\n    type: 0,\n  },\n  {\n    type: 1,\n    key: 'V/Acc/HU',\n  },\n  {\n    type: 1,\n    key: 'V/Acc/LU',\n  },\n  {\n    type: 1,\n    key: 'V/Inacc/HU',\n  },\n  {\n    type: 1,\n    key: 'V/Inacc/LU',\n  },\n  {\n    type: 2,\n    key: 'IV/Acc/HU',\n  },\n  {\n    type: 2,\n    key: 'IV/Acc/LU',\n  },\n  {\n    type: 2,\n    key: 'IV/Inacc/HU',\n  },\n  {\n    type: 2,\n    key: 'IV/Inacc/LU',\n  },\n]\n\nconst getQueryVariable = (variable) => {\n  const query = window.location.hash.substring(window.location.hash.indexOf('?') + 1);\n  const vars = query.split('&');\n  for (var i = 0; i < vars.length; i++) {\n    const pair = vars[i].split('=');\n    if (decodeURIComponent(pair[0]) == variable) {\n      return decodeURIComponent(pair[1]);\n    }\n  }\n  return ''\n}\n\nconst comments = []\nconst replies = []\n\nexport default () => {\n  const which = parseInt(atob(getQueryVariable('id')), 10)\n  const c = list[which]\n  fetch('static/comments.csv')\n    .then((response) => {\n      return response.text()\n    })\n    .then((text) => {\n      Papa.parse(text, { header: true }).data\n        .forEach((item) => {\n          const { comment_text, down_count, up_count, message_id, nickname, user_id } = item\n          comments.push({\n            content: comment_text,\n            like: up_count,\n            dislike: down_count,\n            messageId: message_id,\n            nickname,\n            uid: user_id,\n\n            type: c.type,\n            flagInfo: c.type !== 0 ? item[c.key] : undefined,\n          })\n        })\n    })\n  \n  fetch('static/replies.csv')\n    .then((response) => {\n      return response.text()\n    })\n    .then((text) => {\n      Papa.parse(text, { header: true }).data.forEach(({ reply_text, message_id_default, reply_id, reply_nickname, reply_down_count, reply_up_count, reply_uid, }) => {\n        const reply = {\n          content: reply_text,\n          like: reply_up_count,\n          dislike: reply_down_count,\n          messageId: reply_id,\n          nickname: reply_nickname,\n          uid: reply_uid,\n\n          parentId: message_id_default,\n        }\n\n        if (replies[message_id_default]) {\n          replies[message_id_default].push(reply)\n        } else {\n          replies[message_id_default] = [reply]\n        }\n      })\n    })\n}\n\nexport const getComments = () => comments\nexport const getReplies = (commentId) => replies[commentId] || []\n"]}]}